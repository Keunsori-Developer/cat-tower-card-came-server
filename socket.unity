using UnityEngine;
using socket.io;

namespace Sample {

    public class Namespace : MonoBehaviour {

        void Start() {
            var serverUrl = "http://localhost:8005";
            // ingame 네임스페이스
            var ingame = Socket.Connect(serverUrl + "/ingame");


            ingame.On("connect", () => {
                ingame.Emit("start","{        //start
                    roomId : roomId,
                    round : round,
                    user : user,
                }");

                ingame.Emit("throw","{       //throw
                    roomId : roomId,
                    user : user,
                    card : card,
                }");

                ingame.Emit("giveup","{       //throw
                    roomId : roomId,
                    user : user,
                }");

                ingame.Emit("finish","{       
                    roomId : roomId,
                    user : user,
                    round : round,
                    leftCard : leftCard,
                }");
            });


//            ingame.On("connect", () => {
//                ingame.Emit("연결성공");
//           });

            ingame.On("cardgive", (string data) => {
                Debug.Log(data);
            });

            ingame.On("playerorder", (string data) => {
                Debug.Log(data);
            });

            ingame.On("status", (string data) => {
                Debug.Log(data);
            });

            ingame.On("sequence", (string data) => {
                Debug.Log(data);
            });

            ingame.On("result", (string data) => {
                Debug.Log(data);
            });


        }

    }

}